# 函数编程语法

::: details 参考资料：

- [黑马程序员Java函数式编程全套视频教程](https://www.bilibili.com/video/BV1fz421C7tj)

:::

## 函数对象表现形式

在 java 中函数对象的表现形式有两种：

- lambda 表达式，功能更全面
- 方法引用，写法更简洁

### 1、lambda表达式

「lambda表达式」对象的类型是由行为决定的，如果有一些 lambda 对象，它们的入参类型、返回值类型都一致，那么它们可以看作是同一类的 lambda 对象，它们的类型，用函数式接口来表示：

````java
# 明确指出参数类型
(int a, int b) -> a + b;
# 代码多于一行，不能省略{}以及最后一行的return
(int a, int b) -> {
    int c = a + b;
    return c;
}
````

### 2、方法引用

例子为：

````java
# Math:max
(int a, int b) -> Math.max(a, b);

# Student::getName
(Student stu) -> stu.getName();

# System.out::println
(Object obj) -> System.out.println(obj)

# Student::new
() -> new Student();
````

## 函数对象类型

「函数对象」如何分类？主要看两个方面：

- 参数个数类型
- 返回值类型

如果这两个方面都相同，那么就可以看作是同一个函数对象

### 1、函数式接口

「函数式接口」是指，仅包含一个抽象方法，用 `@FunctionalInterface` 来检查：

````java
public class CategoryTest {
    public static void main(String[] args) {
        Type1 type1 = (a) -> a > 0;
        
    }
    
    @FunctionalInterface
    interface Type1{
        boolean  test(int a);
    }
}
````

### 2、jdk自带函数式接口

在开发中，其实 jdk 已经自带了很多函数式接口，压根不用再去写了；在 `java.util.function` 包中，例如：

<img src="https://blogcola1213.oss-cn-wuhan-lr.aliyuncs.com/java/newFeatures/01.png" alt="jdk自带" style="margin: auto;zoom: normal">

## 方法引用

「方法引用」是指讲现有方法的调用，转化为函数对象；一共有六种格式：

- 类名::静态方法

````java
public class Type2Test {
    public static void main(String[] args) {
        /*
            需求：挑选出所有男性学生
         */
        Stream.of(
                        new Student("张无忌", "男"),
                        new Student("周芷若", "女"),
                        new Student("宋青书", "男")
                )
                .filter(Type2Test::isMale)
                .forEach(System.out::println);
    }

    static boolean isMale(Student student) {
        return student.sex.equals("男");
    }

    record Student(String name, String sex) {
    }
}
````

- 类名::非静态方法

````java

````

## 闭包和柯里化

## 高阶函数
